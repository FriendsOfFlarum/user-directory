{"version":3,"sources":["webpack://@flagrow/users-list/webpack/bootstrap","webpack://@flagrow/users-list/./admin.js","webpack://@flagrow/users-list/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@flagrow/users-list/./src/admin/addUsersListPane.js","webpack://@flagrow/users-list/./src/admin/components/EmailUserModal.js","webpack://@flagrow/users-list/./src/admin/components/UsersListPage.js","webpack://@flagrow/users-list/./src/admin/index.js","webpack://@flagrow/users-list/external \"flarum.core.compat['app']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/AdminLinkButton']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/AdminNav']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/Button']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/LoadingIndicator']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/Modal']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/Page']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['components/PermissionGrid']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['extend']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['helpers/humanTime']\"","webpack://@flagrow/users-list/external \"flarum.core.compat['helpers/icon']\""],"names":["app","routes","usersList","path","component","UsersListPage","extend","AdminNav","prototype","items","add","AdminLinkButton","href","route","icon","children","translator","trans","description","EmailUserModal","init","loading","user","props","forAll","subject","m","prop","messageText","email","submitDisabled","checkEmail","className","title","username","content","onsubmit","bind","oninputEmail","Button","type","disabled","value","emailRegexp","correct","emails","splitEmails","forEach","test","replace","split","e","preventDefault","data","text","request","method","url","forum","attribute","then","hide","response","onerror","Modal","UserItem","id","online","isOnline","humanTime","lastSeenAt","commentCount","discussionCount","target","onclick","modal","show","moreResults","users","refresh","view","LoadingIndicator","loadMore","map","clear","loadResults","results","parseResults","redraw","offset","params","page","limit","sort","store","find","length","push","apply","payload","links","next","lazyRedraw","Page","initializers","PermissionGrid","label","permission","allowGuest","extensionSettings","addUsersListPane"],"mappings":"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","file":"admin.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./admin.js\");\n","export * from './src/admin';\n","export default function _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}","import app from 'flarum/app';\nimport { extend } from 'flarum/extend';\nimport AdminNav from 'flarum/components/AdminNav';\nimport AdminLinkButton from 'flarum/components/AdminLinkButton';\nimport UsersListPage from './components/UsersListPage';\n\nexport default function() {\n    app.routes.usersList = {path: '/users-list', component: UsersListPage.component()};\n\n    extend(AdminNav.prototype, 'items', items => {\n        items.add('users-list', AdminLinkButton.component({\n            href: app.route('usersList'),\n            icon: 'fas fa-users',\n            children: app.translator.trans('flagrow-user-directory.admin.nav.users_button'),\n            description: app.translator.trans('flagrow-user-directory.admin.nav.users_text')\n        }));\n    });\n}\n","import app from 'flarum/app';\nimport Modal from 'flarum/components/Modal';\nimport Button from 'flarum/components/Button';\n\n/**\n * The `EmailUserModal` component shows a modal dialog which allows admin\n * to send message to user.\n */\nexport default class EmailUserModal extends Modal {\n    init() {\n        super.init();\n\n        this.loading = false;\n\n        this.user = this.props.user;\n        this.forAll = this.props.forAll;\n        this.subject = m.prop(app.translator.trans('flagrow-user-directory.admin.modal_mail.default_subject')[0]);\n        this.messageText = m.prop('');\n\n        if (!this.forAll) {\n            this.email = m.prop(this.user.email() || '');\n            this.submitDisabled = !this.checkEmail(this.email());\n        } else {\n            this.submitDisabled = false;\n        }\n    }\n\n    className() {\n        return 'EmailUserModal Modal--large';\n    }\n\n    title() {\n        var title = app.translator.trans('flagrow-user-directory.admin.modal_mail.title_text');\n        if (this.forAll) {\n            title += ' ' + app.translator.trans('flagrow-user-directory.admin.modal_mail.title_all_text');\n        } else {\n            title += ' ' + this.user.username() + ' (' + this.email() + ')';\n        }\n        return title;\n    }\n\n    content() {\n        return <div className=\"Modal-body\">\n            <form className=\"Form\" onsubmit={this.onsubmit.bind(this)}>\n                {!this.forAll && <div className=\"Form-group\">\n                    <label>{app.translator.trans('flagrow-user-directory.admin.modal_mail.email_label')}</label>\n                    <input type=\"text\" className=\"FormControl\" value={this.email()} oninput={this.oninputEmail.bind(this)}/>\n                </div>}\n\n                <div className=\"Form-group\">\n                    <label>{app.translator.trans('flagrow-user-directory.admin.modal_mail.subject_label')}</label>\n                    <input type=\"text\" className=\"FormControl\" bidi={this.subject} />\n                </div>\n\n                <div className=\"Form-group\">\n                    <label>{app.translator.trans('flagrow-user-directory.admin.modal_mail.message_label')}</label>\n                    <textarea rows=\"10\" className=\"FormControl\" style=\"resize: vertical; width: 100%;\" bidi={this.messageText}></textarea>\n                </div>\n\n                {Button.component({\n                    type: 'submit',\n                    className: 'Button Button--primary EditContactModal-save',\n                    loading: this.loading,\n                    children: app.translator.trans('flagrow-user-directory.admin.modal_mail.submit_button'),\n                    disabled: this.submitDisabled\n                })}\n            </form>\n        </div>\n    }\n\n    oninputEmail(value) {\n        this.email(value);\n        this.submitDisabled = !this.checkEmail(value);\n    }\n\n    checkEmail(email) {\n        const emailRegexp = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i;\n\n        var correct = true;\n        var emails = this.splitEmails(email);\n        emails.forEach(function (email) {\n                if (!emailRegexp.test(email)) {\n                    correct = false;\n                }\n            }\n        );\n        return correct;\n    }\n\n    splitEmails(email) {\n        email = email.replace(/\\s*/g,'');\n        return email.split(',');\n    }\n\n    onsubmit(e) {\n        e.preventDefault();\n\n        this.loading = true;\n\n        var data = {\n            emails: this.forAll ? [] : this.splitEmails(this.email()),\n            subject: this.subject(),\n            text: this.messageText(),\n            forAll: !!this.forAll\n        };\n\n        app.request({\n            method: 'POST',\n            url: app.forum.attribute('apiUrl') + '/admin-mail',\n            data: {data}\n        }).then(\n            () => {\n                this.hide();\n            },\n            response => {\n                this.loading = false;\n                this.onerror(response);\n            }\n        );\n    }\n}\n","import app from 'flarum/app';\nimport Page from 'flarum/components/Page';\nimport Button from 'flarum/components/Button';\nimport LoadingIndicator from 'flarum/components/LoadingIndicator';\nimport humanTime from 'flarum/helpers/humanTime';\nimport icon from 'flarum/helpers/icon';\nimport EmailUserModal from './EmailUserModal';\n\nfunction UserItem(user) {\n    const url = `${app.forum.attribute('baseUrl')}/u/${user.id()}`;\n    const online = user.isOnline();\n\n    return [\n        m('li', {\"data-id\": user.id()}, [\n            m('div', {className: 'UsersListItem-info'}, [\n                m('span', {className: 'UsersListItem-name'}, [\n                    user.username(),\n                ]),\n                m('span', {className: 'UserCard-lastSeen' + (online ? ' online' : '')}, [\n                    online\n                        ? [icon('fas fa-circle'), ' ', app.translator.trans('flagrow-user-directory.admin.page.online_text')]\n                        : [icon('far fa-clock'), ' ', humanTime(user.lastSeenAt())]\n                ]),\n                m('span', {className: 'UsersListItem-comments'}, [\n                    icon('comment-o'),\n                    user.commentCount()\n                ]),\n                m('span', {className: 'UsersListItem-discussions'}, [\n                    icon('reorder'),\n                    user.discussionCount()\n                ]),\n                m('a', {\n                    className: 'Button Button--link',\n                    target: '_blank',\n                    href: url\n                }, [\n                    icon('fas fa-eye')\n                ]),\n                Button.component({\n                    className: 'Button Button--link',\n                    icon: 'fas fa-envelope',\n                    onclick: function (e) {\n                        e.preventDefault();\n                        app.modal.show(new EmailUserModal({user}));\n                    }\n                })\n            ])\n        ])\n    ];\n}\n\nexport default class UsersListPage extends Page {\n    init() {\n        super.init();\n\n        this.loading = true;\n        this.moreResults = false;\n        this.users = [];\n        this.refresh();\n    }\n\n    view() {\n        let loading;\n\n        if (this.loading) {\n            loading = LoadingIndicator.component();\n        } else if (this.moreResults) {\n            loading = Button.component({\n                children: app.translator.trans('flagrow-user-directory.admin.page.load_more_button'),\n                className: 'Button',\n                onclick: this.loadMore.bind(this)\n            });\n        }\n\n        return <div className=\"UsersListPage\">\n            <div className=\"UsersListPage-header\">\n                <div className=\"container\">\n                    <p>{app.translator.trans('flagrow-user-directory.admin.page.about_text')}</p>\n                    {Button.component({\n                        className: 'Button Button--primary',\n                        icon: 'plus',\n                        children: app.translator.trans('flagrow-user-directory.admin.page.mail_all_button'),\n                        onclick: () => app.modal.show(new EmailUserModal({ forAll: true }))\n                    })}\n                </div>\n            </div>\n            <div className=\"UsersListPage-list\">\n                <div className=\"container\">\n                    <div className=\"UsersListItems\">\n                        <label>{app.translator.trans('flagrow-user-directory.admin.page.list_title')}</label>\n                        <ol className=\"UsersList\">{this.users.map(UserItem)}</ol>\n                        <div className=\"UsersListPage-loadMore\">\n                            {loading}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    }\n\n    refresh(clear = true) {\n        if (clear) {\n            this.loading = true;\n            this.users = [];\n        }\n\n        return this.loadResults().then(\n            results => {\n                this.users = [];\n                this.parseResults(results);\n            },\n            () => {\n                this.loading = false;\n                m.redraw();\n            }\n        );\n    }\n\n    loadResults(offset) {\n        const params = {};\n        params.page = {\n            offset: offset,\n            limit: 50\n        };\n        params.sort = 'username';\n\n        return app.store.find('users', params);\n    }\n\n    loadMore() {\n        this.loading = true;\n\n        this.loadResults(this.users.length)\n            .then(this.parseResults.bind(this));\n    }\n\n    parseResults(results) {\n        [].push.apply(this.users, results);\n\n        this.loading = false;\n        this.moreResults = !!results.payload.links.next;\n\n        m.lazyRedraw();\n\n        return results;\n    }\n}\n","import {extend} from \"flarum/extend\";\nimport app from \"flarum/app\";\nimport PermissionGrid from \"flarum/components/PermissionGrid\";\nimport addUsersListPane from \"./addUsersListPane\";\n\napp.initializers.add('flagrow-user-directory', app => {\n    // add the permission option to the relative pane\n    extend(PermissionGrid.prototype, 'viewItems', items => {\n        items.add('user-directory', {\n            icon: 'address-book-o',\n            label: app.translator.trans('flagrow-user-directory.admin.permissions.view_user_directory'),\n            permission: 'flagrow.user-directory.view',\n            allowGuest: true\n        });\n    });\n\n    app.extensionSettings['flagrow-user-directory'] = () => m.route(app.route('usersList'));\n\n    addUsersListPane();\n});\n","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['components/AdminLinkButton'];","module.exports = flarum.core.compat['components/AdminNav'];","module.exports = flarum.core.compat['components/Button'];","module.exports = flarum.core.compat['components/LoadingIndicator'];","module.exports = flarum.core.compat['components/Modal'];","module.exports = flarum.core.compat['components/Page'];","module.exports = flarum.core.compat['components/PermissionGrid'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['helpers/humanTime'];","module.exports = flarum.core.compat['helpers/icon'];"],"sourceRoot":""}